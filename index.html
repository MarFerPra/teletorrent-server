<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Teletorrent</title>
    <link type="text/css" rel="stylesheet" href="./node_modules/materialize-css/dist/css/materialize.min.css" media="screen,projection" />
    <link href="./assets/material_icons/material-icons.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="./assets/styles.css" />
    <script>
      window.$ = window.jQuery = require('./node_modules/jquery/dist/jquery.min.js');
      window.Hammer = require('./node_modules/materialize-css/js/hammer.min.js');
      require('babel-register');
      require('./app/components/main');
    </script>
    <script src="./node_modules/materialize-css/dist/js/materialize.min.js"></script>
</head>

<body>

    <nav id="nav-bar">
        <div class="nav-wrapper">
            <a href="#!"value="frontpage" class="left brand-logo nav-option"><i class="material-icons">cloud</i>Teletorrrent</a>
            <ul id="nav-mobile" class="right">
                <li class="nav-option clickable" value="new_torrent"><i class="material-icons">add</i></li>
                <li class="nav-option clickable" value="downloads" ><i class="material-icons">file_download</i></li>
                <li class="nav-option clickable" value="upload" ><i class="material-icons">file_upload</i></li>
                <li class="nav-option clickable" value="paused" ><i class="material-icons">pause_circle_outline</i></li>
            </ul>
        </div>
    </nav>

    <div id="content"></div>

    <script>
      $(document).ready(() => {
          $('.nav-option').on('click', (ev) => {
              ev.preventDefault();
              ev.stopPropagation();
              $('li.active').removeClass('active');

              let optionElement = ev.target;

              if($(ev.target).hasClass('material-icons'))
                optionElement = ev.target.parentElement;

              let optionValue = $(optionElement).attr("value");

              if(optionValue != 'frontpage')
                $(optionElement).addClass('active');

              $(document).trigger('option-changed', optionValue);
          });
      })
    </script>

</body>

</html>
